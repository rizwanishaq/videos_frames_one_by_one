{"version":3,"sources":["components/VideoFeed.js","App.js","index.js"],"names":["VideoFeed","videoElement","useRef","undefined","canvas","useState","image","setImage","play","setPlay","useEffect","current","crossOrigin","src","ref","onClick","pause","onPlay","requestVideoFrameCallback","updateCanvas","width","videoWidth","height","videoHeight","hidden","getContext","drawImage","toDataURL","onEnded","alt","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2KA8CeA,EA5CG,WAChB,IAAMC,EAAeC,sBAAOC,GACtBC,EAASF,sBAAOC,GACtB,EAA0BE,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,oBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KA0BA,OALAC,qBAAU,WACRT,EAAaU,QAAQC,YAAc,YACnCX,EAAaU,QAAQE,IACnB,kHACD,IAED,qCACE,uBACEC,IAAKb,EACLc,QAda,WACjBN,GAASD,GACTA,EAAOP,EAAaU,QAAQH,OAASP,EAAaU,QAAQK,SAatDC,OA7BY,WAWhBhB,EAAaU,QAAQO,2BAVA,SAAfC,IACJf,EAAOO,QAAQS,MAAQnB,EAAaU,QAAQU,WAC5CjB,EAAOO,QAAQW,OAASrB,EAAaU,QAAQY,YAC7CnB,EAAOO,QAAQa,QAAS,EACxBpB,EAAOO,QAAQc,WAAW,MAAMC,UAAUzB,EAAaU,QAAS,EAAG,GACnEJ,EAASH,EAAOO,QAAQgB,UAAU,eAElC1B,EAAaU,QAAQO,0BAA0BC,OAsB7CS,QAAS,kBAAM3B,EAAaU,QAAQH,UAEtC,wBAAQM,IAAKV,IACZE,GAAS,qBAAKO,IAAKP,EAAOuB,IAAI,sBC9BtBC,MARf,WACE,OACE,qBAAKC,UAAU,MAAf,SACE,cAAC,EAAD,OCDNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.0539fa02.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\n\nconst VideoFeed = () => {\n  const videoElement = useRef(undefined);\n  const canvas = useRef(undefined);\n  const [image, setImage] = useState(null);\n  const [play, setPlay] = useState(true);\n\n  const PlayEvent = () => {\n    const updateCanvas = () => {\n      canvas.current.width = videoElement.current.videoWidth;\n      canvas.current.height = videoElement.current.videoHeight;\n      canvas.current.hidden = true;\n      canvas.current.getContext(\"2d\").drawImage(videoElement.current, 0, 0);\n      setImage(canvas.current.toDataURL(\"image/jpeg\"));\n\n      videoElement.current.requestVideoFrameCallback(updateCanvas);\n    };\n\n    videoElement.current.requestVideoFrameCallback(updateCanvas);\n  };\n\n  const ClickEvent = () => {\n    setPlay(!play);\n    play ? videoElement.current.play() : videoElement.current.pause();\n  };\n\n  useEffect(() => {\n    videoElement.current.crossOrigin = \"anonymous\";\n    videoElement.current.src =\n      \"https://cdn.glitch.com/c162fc32-0a96-4954-83c2-90d4cdb149fc%2FBig_Buck_Bunny_360_10s_20MB.mp4?v=1587545460302\";\n  }, []);\n  return (\n    <>\n      <video\n        ref={videoElement}\n        onClick={ClickEvent}\n        onPlay={PlayEvent}\n        onEnded={() => videoElement.current.play()}\n      />\n      <canvas ref={canvas} />\n      {image && <img src={image} alt=\"image_to_send\" />}\n    </>\n  );\n};\n\nexport default VideoFeed;\n","import React from \"react\";\nimport VideoFeed from \"./components/VideoFeed\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <VideoFeed />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}